<add-edit-shell>
    <shell-title>
        <h3>Borrow / Use Materials. <small class="text-muted">Please input details.</small></h3>
    </shell-title>
    <shell-form>
        <form name="ctrl.borrowForm">
            <div class="col-md-3 left-padding-none">
                <div form-input>
                    <label for="borrower">Borrower</label>
                    <select ng-model="ctrl.borrow.borrowedBy" ng-options="borrower.id as borrower.name for borrower in ctrl.borrowerList"></select>
                </div>
                </div>
            <div class="col-md-3 left-padding-none">
                <div form-input>
                    <label for="released">Released By</label>
                    <input type="text" ng-model="ctrl.borrow.releasedBy" />
                </div>
            </div>
            <div class="col-md-3 left-padding-none">
                <div form-input>
                    <label for="date">Date</label>
                    <input type="date" ng-model="ctrl.borrow.date" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-10 left-padding-none">
                <table class="table table-condensed input-details-table">
                    <thead>
                        <tr>
                            <th style="width: 25%;">Item</th>
                            <th style="width: 5%;">Unit</th>
                            <th style="width: 10%;">Brand</th>
                            <th style="width: 10%;">Model</th>
                            <th style="width: 10%;">Size</th>
                            <th style="width: 15%;">Qty In Stock</th>
                            <th style="width: 20%;">Quantity</th>
                            <th style="width: 5%;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="8">
                                <button class="btn btn-primary btn-xs" ng-click="ctrl.addItemBorrowed()">
                                    <i class="fa fa-plus"></i> Add material
                                </button>
                            </td>
                        </tr>
                        <tr ng-repeat="i in ctrl.borrow.activities track by $index">
                            <td>
                                <select name="item" focus-me="i.isFocused" class="form-control input-sm" required
                                        ng-options="item.name for item in ctrl.itemList" ng-model="i.selectedMaterial"></select>
                            </td>
                            <td><input type="text" class="form-control input-sm" ng-model="i.unit" readonly /></td>
                            <td><input type="text" class="form-control input-sm" ng-model="i.brand" readonly /></td>
                            <td><input type="text" class="form-control input-sm" ng-model="i.model" readonly /></td>
                            <td><input type="text" class="form-control input-sm" ng-model="i.size" readonly /></td>
                            <td><input type="text" class="form-control input-sm" ng-model="i.remainingQuantity" readonly /></td>
                            <td><input class="form-control input-sm" type="number" ng-model="i.quantity" /></td>
                            <td class="text-center">
                                <button class="btn btn-danger btn-xs" style="margin-top: 3px;">
                                    <i class="fa fa-times"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </shell-form>
    <shell-controls>
        <form-control on-save="ctrl.save()" on-reset="ctrl.reset()"
                      save-enabled="!ctrl.borrowForm.$pristine && ctrl.borrowForm.$valid && ctrl.saveEnabled"></form-control>
    </shell-controls>
</add-edit-shell>